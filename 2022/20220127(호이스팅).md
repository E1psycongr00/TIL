# 20220127(호이스팅)

작성일시: 2022년 1월 27일 오후 9:51

# 오늘 배운것

## 호이스팅

호이스팅이란 이후에 변수, 또는 함수를 선언하더라도 맨처음에 선언되도록 하는 것이다. 사실 다른 프로그래밍에선 보기 힘든 자바스크립트의 특별한 문법이라고 볼 수도 있겠다. 사람들이 호이스팅 이거 왜 써요? 이런 질문 자체가 잘 못 됬다고 할 수 있겠다. 사실 나도 모르곘다. 오히려 많은 사람들이 호이스팅이 엄격하지 않기 때문에 가독성을 떨어뜨릴 수도 있다고 생각해서 let, const라는게 생길 정도다.

## 호이스팅의 규칙

기본적으로 함수, 변수 모두 호이스팅이 가능하다.  그러나 변수타입 또는 함수 선언 방식에 따라 조금 차이가 난다.

1. 선언된 함수는 상단에 참조, 호출이 가능하다.
2. 익명함수를 var를 통해 받은 경우 함수는 호이스팅되지 않는다.
3. var 로 선언된 변수는 항상 상단에 호이스팅되고 초기화된다.
4. let, const의 경우 상단에 호이스팅이 되지만 초기화되지 않고 참조, 할당이 불가능하다.

var 는  호이스팅이 발생하는 경우, 선언과 초기화가 거의 동시에 일어난다.그래서 상단에 **undefined**로 초기화된다.

선언된 **let, const** 는 호이스팅이 일어나면 상단에 선언은 되지만 초기화는 일어나지 않는다. 그래서 상단에 호이스팅된 위치와 선언된 let, const 사이에는 메모리에 존재하지 않기 때문에 참조, 할당이 불가능 하다. 이 간격을 **일시적 사각지대 TDZ(Temporal Dead Zone)** 라고 한다.

```jsx
/*
*
*      TDZ(Temporal Dead Zone)
*/
let a = 10;
```

# 오늘 느낀점

호이스팅의 경우 일반 프로그램 문법과 달라 혼란을 줄 수 있다. 블로그를 보니 이런 부분은 컨벤션으로 해결 할 수 있을 것 같다고 한다. 나도 동의한다. var 보다는 에러는 발생 할 수 있지만 let을 활용해서 일반 다른 프로그래밍 처럼 활용하면 변수 lifecycle을 좀 더 쉽게 예측 할 수 있고 팀원간 프로젝트시 가독성을 높일 수 있다고 생각한다. 만약 TDZ 가 걱정된다면 안나오게 엄격하게 짜면 된다고 생각한다.

# 참고

[자바스크립트의 실행 컨텍스트와 호이스팅](https://soldonii.tistory.com/57?category=862198)

[호이스팅에 대한 오해와 진실](https://tecoble.techcourse.co.kr/post/2021-04-25-hoisting/)